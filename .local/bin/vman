#!/usr/bin/env bash
#
# View manpages in vim. See:
# http://vim.wikia.com/wiki/Using_vim_as_a_man-page_viewer_under_Unix
#

if [ $# -eq 0 ]; then
  echo "What manual page do you want?";
  exit 0
elif ! man -d "$@" &> /dev/null; then
  # Check that manpage exists to prevent visual noise.
  echo "No manual entry for $*"
  exit 1
fi

${EDITOR:-vim} -R -c 'set ft=man nomod nolist' -c 'map q :q<CR>' -c "Man $*"
